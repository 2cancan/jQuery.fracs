(function(a){a(function(){$body=a("body");for(var c=1;c<10;c++){var d=a("<section />").appendTo($body).width(c*300).height(Math.random()*600+100);a("<div class='label'><span class='idx'>"+c+"</span><ul /></div>").appendTo(d)}var b=0;a("section").each(function(){b++;var e=a("<li><span class='idx'>"+b+"</span></li>").appendTo(a("#panel ul"));a(this).fracs(function(i){e.find(".info").remove();e.append(a("<span class='info'>"+a.fracs.round(i.visible,4)+"</span>"));e.append(a("<span class='info'>"+a.fracs.round(i.viewport,4)+"</span>"));e.append(a("<span class='info'>"+a.fracs.round(i.possible,4)+"</span>"));e.find("span.info").stop(true).css("background-color","rgb(250,250,150)").animate({"background-color":"#fff"},1000);var h=a(this);var f=h.find(".label");var g=h.find(".label ul");h.add(e.find("span.idx")).css("background-color","rgba(200,50,50,"+i.possible+")");f.find(".hint").remove();g.append(a("<li class='hint'>"+a.fracs.round(i.visible*100,1)+"% visible</li>"));g.append(a("<li class='hint'>"+a.fracs.round(i.possible*100,1)+"% of max possible visibility</li>"));g.append(a("<li class='hint'>"+a.fracs.round(i.viewport*100,1)+"% of viewport</li>"));if(i.rect!==undefined){g.append(a("<li class='hint'>visible rect abs("+i.rect.left+","+i.rect.top+") rel("+i.rectRelative.left+","+i.rectRelative.top+") w/h("+i.rect.width+"x"+i.rect.height+")</li>"));f.stop(true).animate({left:i.rectRelative.left+"px",top:i.rectRelative.top+"px","max-width":(i.rectRelative.width-40)+"px"},100)}})});a("section").eq(5).fracs("destroy").find(".label ul").empty().append(a("<li class='hint'>off</li>"))})})(jQuery);